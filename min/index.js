const PHPDate=function(e,$,t="America/New_York",r="en-US"){var n,a;let i=new Date(e);function u(e,$,t){let r=new Intl.DateTimeFormat($,t).formatToParts(e),n={};for(let a in r)"literal"!==r[a].type&&("hour"===r[a].type&&"24"===r[a].value&&(r[a].value="00"),n[r[a].type]=r[a].value);return n}i.getTime();let o,s,c=(n=e,a=t,o=new Date(n),y=(s=u(o,"en-US",{timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1})).year+"-"+s.month+"-"+s.day+"T"+s.hour+":"+s.minute+":"+s.second+"+00:00",new Date(y)),m={d:"",D:"",j:"",l:"",N:"",S:"",w:"",z:"",W:"",F:"",m:"",M:"",n:"",t:"",L:"",o:"",X:"",x:"",Y:"",y:"",a:"",A:"",B:"",g:"",G:"",h:"",H:"",i:"",s:"",u:"000000",v:"000",e:t,I:"",O:"",P:"",p:"",T:"",Z:"",c:"",r:"",U:"","\\":"Escape"},_={D:{weekday:"short"},l:{weekday:"long"},F:{month:"long"},M:{month:"short"},T:{timeZoneName:"short"}};function h(e,$=2){return(e=String(e)).length<$?"0".repeat($-e.length)+e:e}function g(e){if(""!==m[e])return m[e];if(e in _&&Object.keys(_[e]).length>0)return m[e]=new Intl.DateTimeFormat(r,{timeZone:t,..._[e]}).format(i);let $;switch(e){case"Y":case"y":return m.Y=c.getUTCFullYear(),m.y=String(m.Y).slice(-2),m[e];case"n":case"m":return m.n=c.getUTCMonth(),m.m=h(m.n),m[e];case"d":case"j":return m.d=c.getUTCDate(),m.j=h(m.d),m[e];case"G":case"H":return m.G=c.getUTCHours(),m.H=h(m.G),m[e];case"i":return m.i=h(c.getUTCMinutes()),m[e];case"s":return m.s=h(c.getUTCSeconds()),m[e];case"N":case"w":return m.w=c.getUTCDay(),m.N=0===m.w?7:m.w,m[e];case"S":if(($=g("j"))>3&&$<21)return m.S="th",m[e];switch(m.j.slice(-1)){case"1":m.S="st";break;case"2":m.S="nd";break;case"3":m.S="rd";break;default:m.S="th"}return m[e];case"z":case"L":case"W":case"o":return($=[new Date(g("Y")+"-01-01T00:00:00+00:00")])[1]=0===$[0].getUTCDay()?7:$[0].getUTCDay(),m.z=(c.getTime()-$[0].getTime())/864e5,m.L=(new Date(parseInt(m.Y)+1+"-01-01T00:00:00+00:00").getTime()-$[0].getTime())/864e5-365,m.W=Math.ceil((m.z+$[1])/7)-($[1]<5?0:1),m.o=m.Y,0===m.W&&(m.o=parseInt(m.Y)-1,5==g("N")?m.W=53:7==g("N")?m.W=52:m.W=52+(($[0].getTime()-new Date(parseInt(m.Y)-1+"-01-01T00:00:00+00:00").getTime())/864e5-365)),m.W=h(m.W),m[e];case"t":return $=parseInt(g("m"))%12+1,m.t=new Date(parseInt(g("Y"))+(1===$?1:0)+"-"+h($)+"-01T00:00:00+01:00").getUTCDate(),m[e];case"a":case"A":case"g":case"h":return $=u(i,r,{timeZone:t,hour:"numeric",hour12:!0}),m.a=$.dayPeriod.toLowerCase(),m.A=m.a.toUpperCase(),m.g=$.hour,m.h=h(m.g),m[e];case"I":return($=[u(new Date(i.getTime()-10368e6),"en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1}),u(i,"en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1}),u(new Date(i.getTime()+10368e6),"en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1}),])[3]=[60*parseInt($[0].hour)+parseInt($[0].minute),60*parseInt($[1].hour)+parseInt($[1].minute),60*parseInt($[2].hour)+parseInt($[2].minute)],$[4]=parseInt(($[3][0]+$[3][1]+$[3][2])/3),m.I=0,console.log($[4],$[3][1]),$[4]!==$[3][1]&&$[4]<$[3][1]&&(m.I=1),m[e];case"O":case"P":case"p":case"Z":return m.Z=(c.getTime()-i.getTime())/1e3,$=[m.Z<0?"-":"+",h(Math.floor(Math.abs(m.Z)/3600)),h(Math.floor(Math.floor(Math.abs(m.Z)/60)%60))],m.O=$[0]+$[1]+$[2],m.P=$[0]+$[1]+":"+$[2],m.p=0===m.Z?"Z":m.P,m[e];case"c":return m.c=T(String.raw`Y-m-d\TH:i:sP`);case"r":return m.r=T(String.raw`D, j M Y H:i:s O`);case"U":return m.U=i.getTime()/1e3}return!1}function T(e){let $=[],t=!1;for(let r in e=e.split("")){if(t||!(e[r]in m)){$.push(e[r]),t=!1;continue}if("\\"===e[r]){t=!0;continue}!1!==(x=g(e[r]))?$.push(x):$.push("#"+e[r]+"#")}return $.join("")}return T($)};module.exports=PHPDate;v